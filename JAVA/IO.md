## <center> IO模型 </center>

### 预备知识
同步和异步，阻塞与非阻塞

阻塞和非阻塞关注的是等待结果的过程，该进程不做其他事情只等待结果返回的话，为阻塞，该进程会做其他事情的话为非阻塞。相对于单个进程而言。

同步和异步是指如果获取到结果，如果在没有得到结果之前不返回，一旦返回就是期望值，就是同步，它强调的是请求和应答的序列顺序一致；发送之后立刻返回（不是期望结果），等待被调用者通知，就是异步，异步下可以接连不断的发送请求，也可以接连不断地接受应答。相对于两个协作进程而言。  

**所以异步+阻塞这种说法是不成立的**，异步就是非阻塞的。

[详细解释](https://www.zhihu.com/question/19732473/answer/14413599)

#### Linux 中的IO模型
IO一般分为两部分：准备数据和读取数据，准备阶段可以是资源不够，不可用等情况，读取阶段是把数据从Kernel读取到user。

阻塞式IO：准备阶段和读取阶段都阻塞。

非阻塞式IO：读取阶段阻塞，准备阶段会进行轮询。

IO复用：专门的进程进行所有资源的轮询，在资源等待阶段可以设置为No-blocking,它的优点是可以同时处理多个连接。因为使用了两个系统调用`select和recvfrom`，可能更加慢。其会阻塞在select这个系统调用上，而不是socket IO上，这样使得系统可以
在单线程下处理多个请求。慢慢的进程数量会成为瓶颈。
- 读取数据时会阻塞
- 写数据时会阻塞
- client连接时会阻塞

信号驱动：允许Socket进行信号驱动IO,并安装一个信号处理函数，进程继续运行并不阻塞。当数据准备好时，进程会收到一个SIGIO信号，可以在信号处理函数中调用I/O操作函数处理数据。

异步IO：两个阶段都是非阻塞的。

[linuxIO模型](https://blog.csdn.net/weily11/article/details/80311258)

[知乎答案](https://www.zhihu.com/search?type=content&q=IO%E6%A8%A1%E5%9E%8B)

### JAVA中的BIO (Block-IO)
同步并且阻塞，处理多个请求就必须开启多个线程。

### JAVA中的NIO
为了解决进程多的问题，根据IO多路复用的思想，采用一个reactor进行轮询管理。

### AIO
异步IO

[JAVA IO例子](https://blog.csdn.net/szxiaohe/article/details/81542605)
