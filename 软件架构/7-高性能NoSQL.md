## <center>高性能NoSQL</center>

关系型数据库的缺点：
- 关系型数据库记录的都是行数据，无法存储数据结构，例如：我关注的人这个功能，只能按照行来存取，不能直接存一个列表。
- schema扩展不方便，关系型数据库的表结构schema是强约束，操作不存在的列会报错，业务变化的时候扩充列也比较麻烦，需要执行DDL语句进行修改（data definition language，如create、alter、drop等），修改可能造成长时间的锁表。
- 关系型数据库在大数据场景下的IO较高
- 关系型数据库的全文搜素功能较弱

NoSQL针对上面的关系型数据库可以进行很好的优化，但是也会带来很多的问题，不能简单的把NoSQL理解为SQL的替代物。

常见的NoSQL方案分为四类：
- K-V存储：这类解决了关系型数据库无法存储数据结构的问题，以Redis为代表。
- 文档数据库：解决关系型数据库的强schema约束的问题，以MongoDB为例。
- 列式数据库：解决关系型数据库大数据场景下的IO问题，以HBase为例。
- 全文搜素引擎：解决关系型数据库的全文搜素性能问题，以 Elasticsearch 为代表。

### K-V存储
K-V存储的全称是Key-Value存储，其中Key是数据的标识，和关系型数据库中的主键含义一样，Value是具体的数据。
Redis就是K-V存储的典型代表，它是一款开源的高性能K-V缓存和存储系统。Redis的Value是具体的存储结构，包括String、hash、list、set、sorted set、bitmap和hyperloglog，所以常常被称为数据结构服务器。

Redis的缺点主要体现在并不支持完整的ACID事务，其只能保证隔离性和一致性。

### 文档数据库
文档数据库是为了解决强schema带来的问题，其可以任意的存储和读取数据，目前大部分的文档数据库存储的格式是JSON。

### 列式数据库
相比于传统的行式数据库，在特定的业务场景中有明显的IO优势，压缩率也比一般的行式数据库要高出很多。

### 全文搜素引擎
关系型数据库对全文搜素无能为力，主要表现在：
- 全文搜素的条件可以随意排列组合，如果通过索引来进行满足，则索引的数量是指数级别
- 全文搜素的模糊匹配模式，索引无法满足，只能用`like`查询，而`like`查询又是整表进行扫描，效率非常低。
全文搜素引擎使用的是倒排索引（未深入了解），典型代表Elasticsearch
